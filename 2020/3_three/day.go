package three

import (
	"fmt"
)

const (
	open  = "."
	tree  = "#"
	right = 3
	down  = 1
)

type result struct {
	right int
	down  int
	open  int
	tree  int
	num   int
}

var slopes = []struct {
	right int
	down  int
}{
	{1, 1},
	{3, 1}, // part one was just this one slope
	{5, 1},
	{7, 1},
	{1, 2},
}

func Do() {
	slope := make([][]string, 0)

	for i := range dataString {
		slope = append(slope, make([]string, 0))
		for _, v := range dataString[i] {
			slope[i] = append(slope[i], string(v))
		}
	}

	//slope[row][column]
	results := make([]result, 0)
	for i, s := range slopes {
		r := result{
			right: s.right,
			down:  s.down,
			num:   i,
		}
		row := 0
		col := 0

		for row < len(slope) {
			row += s.down
			if row >= len(slope) {
				break
			}
			col += s.right

			for len(slope[row]) <= col {
				col = col - len(slope[row])
			}

			switch {
			case slope[row][col] == open:
				r.open++
			case slope[row][col] == tree:
				r.tree++
			}
		}
		results = append(results, r)
	}
	m := 0
	for _, r := range results {
		m = m * r.tree
		if m == 0 {
			m = r.tree
		}
		fmt.Println(fmt.Sprintf("\tSlope %v: \n\t\tRight %v, down %v\n\t\t\t%v trees, %v open slots", r.num, r.right, r.down, r.tree, r.open))
	}
	fmt.Println(fmt.Sprintf("Mult of Trees: %v", m))
}

var dataString = []string{
	".#......#..####.....#..#.......",
	"#.#...#...#..#.#...#.#...##.##.",
	"#.#....#..........#...##.....##",
	"#.#.#.....##......#.#.......###",
	"..#..###....#.#....#.#.#..#....",
	".......#.#....##..##...#...#...",
	"..#..#..#..###.......#.....#.#.",
	".#.......#...##...##.##......##",
	"#.#.##..##.#..#....#..###..#.#.",
	"#.....#.#.........#.....##.#.#.",
	"..#.#....##..#...#...##........",
	"......#....#..##.#.#......###..",
	".......#.......#......##...#...",
	".##.....#.......#...###.....##.",
	".#...#.##..##.#..##....#.......",
	"..#......##...#..#...#.#.##.###",
	".##.##.....##....#..#......#.#.",
	".#.....#..###..#.##.#.....##.#.",
	"......##..........#..........#.",
	".##....#.....#..##.#..#.#..###.",
	"..##.......#....#...##...#..#..",
	".##...#.....#.###.#.#..#...#.#.",
	".....##.#.##..##...#...........",
	"..#..###.##.#.#.###...###..#.#.",
	".#........#..#.#........#.#...#",
	"....##.......#....#.#.##.#.....",
	"....##........######..###..#.#.",
	"#.#.#............#.......#..#..",
	"...##...#.##.....#.#..#......#.",
	"......#.##.#....##..#.#..###...",
	"##.....#.#....#....#.##.#.###..",
	"#..#..#..##.#..##.##.##.#.##...",
	".###.####..#..#........#.....##",
	".......##..#.......#...........",
	".##...#............#.#.##...#..",
	"....##.....#...##..#..#.#..###.",
	"...#.....#####.#..#...##....##.",
	"#.....#.#.#....##.......##.#.#.",
	"......#.#..#.##.#######......#.",
	"#.##...##....#..###.#.......#..",
	".....##...#....#...#....##.##.#",
	"....###......#...###..#......##",
	"..#...##..##.######..#.#......#",
	"......##....#....##..#......##.",
	".#...#..##..#.###.#......#....#",
	"##....##..#..####.#.....#...#..",
	".#.......#...#.......##......#.",
	"......#...#...#........#.......",
	".#........#.###...#..####.#..#.",
	"##...#.#............#.....###..",
	".....###.#.##...........###..#.",
	".#.#...#.....#.#.##..##...####.",
	"..##.......#..#.##.#....#.....#",
	".#..#.#..####.....###.#.....#..",
	"..#..###.....####..#.##.#.#.##.",
	".###..#.....#......#...####....",
	"...#.#..#.#..#...#...#....##.##",
	"..###....#.##.....#..........#.",
	"###...#####......##............",
	"..###.....#........##.#...#..#.",
	"..##.##.#.....##........##..#.#",
	"##..#.#...#.#..#..###.#....#..#",
	"....#..#.#.....#..#####...#....",
	"....#.........#......##.##.....",
	".#...####.##......##..##.#..#.#",
	"...#...#.##..#...##..###...#...",
	"###...#.....#.##.###.###..#.#..",
	"..#......#.###.....#..##.#...#.",
	"#.....##.########...#####....#.",
	"........##..#..##..##.#........",
	"....#.######....##..#..#.##..#.",
	"#.......#..##..#..#.#.#..##.##.",
	"...#.#..#..#.......#......###.#",
	".#.#..#.#..#.##.#.............#",
	"#....#.##.#.#.....#..#.#..#....",
	"...###..#...#....#.........#.#.",
	".#..#.....##..#.#..#.#.......#.",
	"..#...##...#......#......####..",
	"....#..#.......#.......#.#..#..",
	"#...#..#...........#.#..#.....#",
	"#...#.#.......#...#....###....#",
	".#..#.#.##....#......#........#",
	"..#...#..##..#..#..#..#...#.#..",
	"..#.#.........#....#....##.....",
	"##.....##.#.#.#.........##.....",
	".##...#.##...........#...#...##",
	".##..##.#.#..........##..##....",
	"#....#....#.#...#.#..#....#.#..",
	"####....##.....#..##.###.......",
	"#..#....#......##.#.#....#.....",
	".....#....#.###.##.........###.",
	"#.......#.####..#..#..##.......",
	"##.#.......#..##..#....#..#.#..",
	"..###...#.#...#.....##.##.####.",
	"....#...#.#....#..#..#.....#.##",
	"#.....##.#.#..#.##..#..##......",
	"................###..#....##...",
	"..#.##.....#..........##.#...#.",
	"..#.#..#.#....#.#.#..#..#..#.#.",
	"#...#..##.#.#...#..#...#..#....",
	"#..#.#.........#..###........#.",
	".#...#.............#..###..#..#",
	"#.........#.#..#...#.#.....#..#",
	"....#..#..#.#.#...#...#.....##.",
	"##...###.#.####..#......#...#..",
	"..#..##...#.#......#.#.......#.",
	"#......###....##.#.##..........",
	"#####....###..#...............#",
	"##.#...####....#....#...#....#.",
	".#.......#..#.....#...#.....###",
	"...#..#.#.#....##......##...#..",
	"...#.....#...#.##.#..#.#....#..",
	"#...###....#...#.#....#........",
	".#.......#........#...##.##.##.",
	".....#....#...##.....##...###.#",
	"....#....#.#..#...##.##.##.....",
	".......#............#...#.#..#.",
	".#............#.....##.......#.",
	"........#....#....##......##.##",
	".......##..#.#..#.##..###..##.#",
	"#..##..##.........####.#.###...",
	"#....#..#...##...#.............",
	"#...#...###..........##..#..#..",
	"....#...#..#.....##...#........",
	"#.....#......#.#.....#...#..#..",
	"..#.....#.....#....#..#........",
	"..#..#.....#.#.........#..###..",
	"................###..#.#....#..",
	"#.....#.....#.#.#.#.#..#...#.#.",
	"#....#....#.#..........#.#....#",
	"....#..#......#..##.#...##.....",
	"..#.#...#.####....#.#..#.#..#..",
	".........##......#.....##......",
	"##.#.###.#.....#.....####.#..#.",
	".....#.....#..#....#..###.#....",
	"##..#.#...#.##....#....#.......",
	".....#......#.#...##..#.#......",
	"....##..#...#...##..##.#....#.#",
	"............#..........##.#....",
	"##..#..#.##..##..#.#....#.#.#..",
	".......#.#...#...#.#...#..#....",
	"#....#.#...#...#........#..#...",
	"...........#.......#...##..###.",
	".#..##......#.##.........##..#.",
	"...#...#...###.#.##....##.#..#.",
	"#...#..#.#.#.....##..#.......#.",
	".##..#.###.##......#.#....#.#.#",
	"..#....#.......#..#..#.#.#.##..",
	"#...#...###...###.........#....",
	".#.#...#.....##.#.#..#....#.##.",
	".........#.#.##.....#.#.###....",
	"...#.#...#......#...####......#",
	"...##..##....##......##...###..",
	"###...#..#.......##.....#....#.",
	"...#..#..#..###...##.##..#..#..",
	"...#......#......##..#.#.##..#.",
	"...#.........#....#.#....#.#...",
	"##................#..#.#.....#.",
	"....#.##...#..#.##...##.#.....#",
	"......#..##.##..###.#..#.##.##.",
	".#.#...###.....###.....##...###",
	".##.....#.#.#..#..###..#..#..#.",
	"#.......#..#..#....##.....#....",
	"...#.#.##..#..#......##.##...#.",
	"....##.#......#...#..#..#......",
	".####.#..#.....#..##.#...##..##",
	"..#..#...#..........###..#....#",
	".#.#.##.##...#............#....",
	"........##..##......#.##..#.###",
	"...#.#....###......##.......#..",
	"..##...#...#.#..#.....#.....#..",
	"##..#...###..#..#.#.#...#...#..",
	".....#..#....##.....##.....###.",
	"....##...###.#..#.#....##..#..#",
	"#......#...#....#......#...##..",
	"....#.##...#.#......#.#.##...#.",
	".......#.....#...#####...#.#...",
	"...#.....##.#............#.....",
	"...#.#........#.#.#..#.........",
	"....###......#.#.#..#.####.#..#",
	"#.....#.#.#.....#.#.#.....#..#.",
	"..##.##......#...#.#...........",
	"###..###....#.#####......###...",
	"..##..............##.#.#....#.#",
	"#..#...#..........#..#.#.#..###",
	"##.###............#....#.#...#.",
	"#.#..#.#..##.#.#....#...#......",
	"#....#...#..##.....#..#.#..###.",
	"..#.....#.#....#.#..#.##.#..##.",
	"...##...#.#.##...#....###....#.",
	"......###.####.......#..#.#.#.#",
	".#..............##........#....",
	"...##.##...##....#..#.......#..",
	".....#.....#....###...#..#..#.#",
	".#.....#..#.....#......#.....##",
	"#.#.##.#..#..#.....#.##..###...",
	"..#......#...##.###..#.#...#..#",
	"......#.....#...##......#......",
	"##.#........#..........#.....#.",
	"#........##.#............##....",
	"...#......##...#.#.....##......",
	"...##.......#....#.#..#.#.###..",
	"..#....##..##.##.....###....#..",
	"..#...#.#...#.....#..........#.",
	"......#...#...#.#.##.#...#.#.#.",
	".#...#......#.##........#......",
	".##.##..#....#...#.#...##......",
	"#..#......#.#...........#....#.",
	"....##.#....#...#..#....#.#..##",
	"#....##.##....#.#..##.#........",
	".##.##.#....##.....#..#....#..#",
	"...#...#.....###.#.##..........",
	"....#...#....##.......###......",
	"#.........#......#.#.......#...",
	"#..........#..##..#.#..........",
	".....#.......#..##.##....##...#",
	"........................#.#....",
	"#..#.........#.............#..#",
	"#..#.....#.......#....#....#.#.",
	"..##..##.......##....#...#.....",
	".##......#..##......#.###......",
	"...#.#........#.......##..###..",
	"..##...###.###......#...#....##",
	"#...#...#.....###.#.#.#..#.....",
	"#....#.........#..##...#...##..",
	"#..###..#.#.#.##.#..#.#....#.##",
	"#...#.#.....#.###.#.......#....",
	"..##..#..#....#.#...........#.#",
	"#.........#.#......#...##......",
	".######......#..#....#.#.#....#",
	"##..#.#..####.###.........#....",
	"###########.....##.##...#..#...",
	"#...##.#.#....#.#....#......#..",
	"...#..##..#..##..#......#....#.",
	".#....#...#....#.#..##....##...",
	"#..#.#............#....#.#...#.",
	"...#...#..#.#.##......#..#.#...",
	"#.#...##.....#..#.##......####.",
	".#.#..##..#.....#.#..#.##......",
	"#.#.##......##.....#..#.#..#...",
	"#..##...#.##.#.......#.##......",
	"..#.......#.#.#...##..##...#...",
	".#...#..#..#.#.........#..##...",
	"#..#.......#....#.#...#.###...#",
	".......#..#.......##.#.#...#.#.",
	".#.................###.#..###..",
	"..........#.#.....##..#####...#",
	"#......#.#..##.#.#...#.##.#....",
	"#......#.#..##.##.#...#....#...",
	"....#..#......#....#....#######",
	".#...#......#....###......#.###",
	"#.#....#.#...#.###......#..#..#",
	".###......#.#...#.####.#..####.",
	"######.#.....###.#...#.#.....#.",
	".#.###....#..#.#.....#.....####",
	".......###.#.........#..#......",
	"#...#.....##.#......####.......",
	"..#.#..##.#.#...#...#..##..##..",
	".....#...##.....#...##......##.",
	"##..#..#.##..#.#......#.....#..",
	"##.........#.#.##.#..#.#....#.#",
	".#........###...#.........#....",
	"...#..#.#..#....####...........",
	"#.#....#..##..####.#...#.##....",
	".#.....#.......#..........#..##",
	"...#.......#...###..#.....#..##",
	".........#.###.#..##...#.##...#",
	".#..........##..####...#..#.#.#",
	".#...##...#............##...#.#",
	"...#....#.#..........#.#..#.#..",
	".#.#...##....##.#.#.#....#.....",
	"....#..#.....#.#..#.#..#.##.###",
	".....#.#.....#..#......#.#.#...",
	".....#.#.#..###..#.#..###...#..",
	"#.......####...#.#..#......##.#",
	"....#..#..###......###.##....#.",
	"##.....#.....#.............#..#",
	"#..#..#...##.....##..#..#.#....",
	".....#.#.###...#...............",
	"#.#.#.....#.#..#.#...#.......#.",
	"..##.##............#....#..##..",
	"#....##...#.....#.###...#.#....",
	"#...##.#.........#...#....#....",
	"##.##.#...#.#...###..#....##..#",
	"....#....##..#..#.......#...##.",
	".#...#...#..#.....#..###.#..#.#",
	"....#..###......#....##....#...",
	"#.#.....#....##.#..#.#...###...",
	".......#............#......#...",
	".##..#.###.#.............###...",
	"..##...##.#.#.#.....#........##",
	"....#.###....#..#..#...#...#..#",
	".....#...#...#..#....#.....##..",
	"###.#.#.....#......####.....#..",
	"#.#.###............#......#....",
	"..#.....#..#..#..#....#......#.",
	"#...######...#....#.##...##.#.#",
	"##.#.#.#..##......##.#..#.#...#",
	"............#.#..#.##....#.....",
	"......#............#.#...#..#.#",
	".#..##...##..#.#.#..###.....##.",
	"#.###.#...........#...#....#...",
	"....##.....#...##...#...###.#.#",
	".####.#.#.....#.#..#.#.##......",
	".#...##......###...#..##..#.#..",
	".#......#...#....##.....##..#..",
	"..........##.....###.##.#...#.#",
	".#........##.#..............#..",
	"#...###..#...#.....#....#.....#",
	"...#......#..#...#...#..###.#..",
	".#...##..#........#.......#.#..",
	".#.#.##.........##.##......#..#",
	"#...#.#.#...#.....#.#...#.#..#.",
	"#.#..#...#...#...##..........#.",
	".#...........#....#..#.#..#.#..",
	"#.......#......#..#...#........",
	".....#..#...##..###..##........",
	"......#...#.....#..#.#.#....##.",
	"....##..##..##....###.##.......",
	".#........##.#.#...#..#........",
	".....##...##...#......#..#...#.",
	"..#.....#....###.#..##....#..#.",
	"......#..#...####.#.....##.####",
}
